
   
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" href="https://bootswatch.com/4/cerulean/bootstrap.min.css">
    
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
        <meta name="description" content="Chameleon Admin is a modern Bootstrap 4 webapp &amp; admin dashboard html template with a large number of components, elegant design, clean and organized code.">
        <meta name="keywords" content="admin template, Chameleon admin template, dashboard template, gradient admin template, responsive admin template, webapp, eCommerce dashboard, analytic dashboard">
        <meta name="author" content="ThemeSelect">
        <title>Comics</title>
        <link rel="apple-touch-icon" href="https://themeselection.com/demo/chameleon-admin-template/app-assets/images/ico/apple-icon-120.png">
        <!-- <link rel="shortcut icon" type="image/x-icon" href="/assets/images/ico/favicon.ico"> -->
        <link href="https://fonts.googleapis.com/css?family=Muli:300,300i,400,400i,600,600i,700,700i%7CComfortaa:300,400,700" rel="stylesheet">

        <!-- BEGIN: Vendor CSS-->
        <link rel="stylesheet" type="text/css" href="/assets/vendors/css/vendors.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/vendors/css/forms/toggle/switchery.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/plugins/forms/switch.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/core/colors/palette-switch.min.css">

        <!-- END: Vendor CSS-->

        <!-- BEGIN: Theme CSS-->
        <!--<link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-extended.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/colors.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/components.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/pages/chat-application.css">-->

        <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-extended.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/colors.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/components.min.css">

        <!-- <link rel="stylesheet" type="text/css" href="/assets/css/pages/advanced-cards.min.css"> -->
        <!-- END: Theme CSS-->

        <!-- BEGIN: Page CSS-->

        <!--<link rel="stylesheet" type="text/css" href="/assets/css/core/menu/menu-types/vertical-menu.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/core/colors/palette-gradient.min.css">-->

        <link rel="stylesheet" type="text/css" href="/assets/css/core/menu/menu-types/vertical-menu.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/core/colors/palette-gradient.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/pages/chat-application.css">

        <!-- END: Page CSS-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.5.1/min/dropzone.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.5.6/css/buttons.dataTables.min.css">
        <!-- BEGIN: Custom CSS-->
        <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
        <!-- END: Custom CSS-->






    <title>Comics</title>

</head>
   <!-- BEGIN: Content-->
   <%- include  ('../layouts/loading'); -%>
    <div class="" id="login" v-cloak>
      <div class="content-wrapper">
        <div class="content-wrapper-before"></div>
        <div class="content-header row"></div>
        <div class="content-body">
          <section class="flexbox-container">
            <div
              class="col-12 d-flex align-items-center justify-content-center"
            >
              <div class="col-lg-4 col-md-6 col-10 box-shadow-2 p-0 mt-4">
                <div class="card bg-gradient-x-purple-blue border-grey border-lighten-3 px-1 py-1 m-0">
                  <div class="card-header bg-gradient-x-purple-blue maize border-0 text-white">
                    <div class="text-center mb-1">
                      
                    </div>
                    <div class="font-large-1  text-center">
                      Login
                    </div>
                  </div>
                  <div class="card-content">
                    <div class="card-body" >
                      

                      <div
                        class="alert alert-danger alert-dismissible fade show"
                        role="alert"
                        v-if="error"
                      >
                        <strong>Error!</strong> {{ error }}
                        <button
                          type="button"
                          class="close"
                          data-dismiss="alert"
                          aria-label="Close"
                        >
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>

                     

                      <form
                        class="form-horizontal"
                
                        
                        
                      >
                        <fieldset
                          class="form-group position-relative has-icon-left"
                        >
                          <input
                            type="text"
                            class="form-control round"
                            id="user-name"
                            name="email"
                            placeholder="Your Username"
                            v-model='Form.email'
                            required
                          />
                          <div class="form-control-position">
                            <i class="ft-user"></i>
                          </div>
                        </fieldset>
                        <fieldset
                          class="form-group position-relative has-icon-left"
                        >
                          <input
                            type="password"
                            class="form-control round"
                            id="user-password"
                            name="password"
                            v-model='Form.password'
                            placeholder="Enter Password"
                            required
                          />
                          <div class="form-control-position">
                            <i class="ft-lock"></i>
                          </div>
                        </fieldset>
                        <div class="form-group row">
                          <div
                            class="col-md-6 col-12 text-center text-sm-left"
                          ></div>
                          <div
                            class="col-md-6 col-12 float-sm-left text-center text-sm-right"
                          >
                            <!-- <a href="recover-password.html" class="card-link"
                              >Forgot Password?</a
                            > -->
                          </div>
                        </div>
                        <div class="form-group text-center">
                          <button
                          type="button"
                           @click="formSubmit()"
                            class="btn round btn-block btn-primary col-12 mr-1 mb-1"
                          >
                            Login
                          </button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
    <!-- END: Content-->

    <!-- BEGIN: Vendor JS-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
       var customerscore = new Vue({
         
        el: '#login',
        mounted() {
          $("#loading" ).hide();

            },
            data() {
                return {

                    error:"",
                    Form:{
                      email : '',
                      password:''

                    }
                };
            },
           
            methods: {
                

                async formSubmit() {

                    let that = this;
                    $("#loading" ).show();
                    try{

                        const response = await axios.post('/api/login', this.Form);
                        $("#loading" ).hide();
                        console.log(response)
                        that.results=response.data;

                        if(!response.data.success){

                          that.error=response.data.success.error
                        }else{
                          window.location.href = "/"
                        }

                        


                    }catch(err){
                        $("#loading" ).hide();
                        that.error=err

                    }


                   
                }
            },
           

    });

    </script>
  </body>
  </html>